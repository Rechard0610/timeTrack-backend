import{a as i,I as D,J as I,a3 as F,F as R,q as z,H as M,ao as P,aC as H}from"./index-ewVy9M9d.js";import{X as _}from"./ErpApp-7Wu0aHhn.js";import{p as L}from"./IdurarOs-eHlzvnv3.js";import{S as U}from"./Skeleton-a_sn-oBg.js";import{e as V}from"./actions-cTR2S2ig.js";import{g as X}from"./selectors-c3wjZmkY.js";const A=t=>{const{value:n,formatter:a,precision:e,decimalSeparator:o,groupSeparator:l="",prefixCls:u}=t;let r;if(typeof a=="function")r=a(n);else{const c=String(n),m=c.match(/^(-?)(\d*)(\.(\d+))?$/);if(!m||c==="-")r=c;else{const p=m[1];let f=m[2]||"0",s=m[4]||"";f=f.replace(/\B(?=(\d{3})+(?!\d))/g,l),typeof e=="number"&&(s=s.padEnd(e,"0").slice(0,e>0?e:0)),s&&(s=`${o}${s}`),r=[i.createElement("span",{key:"int",className:`${u}-content-value-int`},p,f),s&&i.createElement("span",{key:"decimal",className:`${u}-content-value-decimal`},s)]}}return i.createElement("span",{className:`${u}-content-value`},r)},B=A,q=t=>{const{componentCls:n,marginXXS:a,padding:e,colorTextDescription:o,titleFontSize:l,colorTextHeading:u,contentFontSize:r,fontFamily:c}=t;return{[`${n}`]:Object.assign(Object.assign({},F(t)),{[`${n}-title`]:{marginBottom:a,color:o,fontSize:l},[`${n}-skeleton`]:{paddingTop:e},[`${n}-content`]:{color:u,fontSize:r,fontFamily:c,[`${n}-content-value`]:{display:"inline-block",direction:"ltr"},[`${n}-content-prefix, ${n}-content-suffix`]:{display:"inline-block"},[`${n}-content-prefix`]:{marginInlineEnd:a},[`${n}-content-suffix`]:{marginInlineStart:a}}})}},J=t=>{const{fontSizeHeading3:n,fontSize:a}=t;return{titleFontSize:a,contentFontSize:n}},Y=D("Statistic",t=>{const n=I(t,{});return[q(n)]},J);var G=function(t,n){var a={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.indexOf(e)<0&&(a[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,e=Object.getOwnPropertySymbols(t);o<e.length;o++)n.indexOf(e[o])<0&&Object.prototype.propertyIsEnumerable.call(t,e[o])&&(a[e[o]]=t[e[o]]);return a};const K=t=>{const{prefixCls:n,className:a,rootClassName:e,style:o,valueStyle:l,value:u=0,title:r,valueRender:c,prefix:m,suffix:p,loading:f=!1,formatter:s,precision:v,decimalSeparator:S=".",groupSeparator:b=",",onMouseEnter:O,onMouseLeave:$}=t,E=G(t,["prefixCls","className","rootClassName","style","valueStyle","value","title","valueRender","prefix","suffix","loading","formatter","precision","decimalSeparator","groupSeparator","onMouseEnter","onMouseLeave"]),{getPrefixCls:C,direction:N,statistic:g}=i.useContext(R),d=C("statistic",n),[h,w,j]=Y(d),y=i.createElement(B,{decimalSeparator:S,groupSeparator:b,prefixCls:d,formatter:s,precision:v,value:u}),T=z(d,{[`${d}-rtl`]:N==="rtl"},g==null?void 0:g.className,a,e,w,j),k=L(E,{aria:!0,data:!0});return h(i.createElement("div",Object.assign({},k,{className:T,style:Object.assign(Object.assign({},g==null?void 0:g.style),o),onMouseEnter:O,onMouseLeave:$}),r&&i.createElement("div",{className:`${d}-title`},r),i.createElement(U,{paragraph:!1,loading:f,className:`${d}-skeleton`},i.createElement("div",{style:l,className:`${d}-content`},m&&i.createElement("span",{className:`${d}-content-prefix`},m),c?c(y):y,p&&i.createElement("span",{className:`${d}-content-suffix`},p)))))},x=K,Q=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function W(t,n){let a=t;const e=/\[[^\]]*]/g,o=(n.match(e)||[]).map(c=>c.slice(1,-1)),l=n.replace(e,"[]"),u=Q.reduce((c,m)=>{let[p,f]=m;if(c.includes(p)){const s=Math.floor(a/f);return a-=s*f,c.replace(new RegExp(`${p}+`,"g"),v=>{const S=v.length;return s.toString().padStart(S,"0")})}return c},l);let r=0;return u.replace(e,()=>{const c=o[r];return r+=1,c})}function Z(t,n){const{format:a=""}=n,e=new Date(t).getTime(),o=Date.now(),l=Math.max(e-o,0);return W(l,a)}var ee=function(t,n){var a={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.indexOf(e)<0&&(a[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,e=Object.getOwnPropertySymbols(t);o<e.length;o++)n.indexOf(e[o])<0&&Object.prototype.propertyIsEnumerable.call(t,e[o])&&(a[e[o]]=t[e[o]]);return a};const te=1e3/30;function ne(t){return new Date(t).getTime()}const oe=t=>{const{value:n,format:a="HH:mm:ss",onChange:e,onFinish:o}=t,l=ee(t,["value","format","onChange","onFinish"]),u=_(),r=i.useRef(null),c=()=>{o==null||o(),r.current&&(clearInterval(r.current),r.current=null)},m=()=>{const s=ne(n);s>=Date.now()&&(r.current=setInterval(()=>{u(),e==null||e(s-Date.now()),s<Date.now()&&c()},te))};i.useEffect(()=>(m(),()=>{r.current&&(clearInterval(r.current),r.current=null)}),[n]);const p=(s,v)=>Z(s,Object.assign(Object.assign({},v),{format:a})),f=s=>M(s,{title:void 0});return i.createElement(x,Object.assign({},l,{value:n,valueRender:f,formatter:p}))},ae=i.memo(oe);x.Countdown=ae;function me({entity:t}){const{isLoading:n}=P(X),a=H();return{send:o=>{const l={id:o};a(V.mail({entity:t,jsonData:l}))},isLoading:n}}export{x as S,me as u};
