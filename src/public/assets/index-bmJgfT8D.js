import{a as l,an as e}from"./index-ewVy9M9d.js";import{u as I,r as g}from"./ErpApp-7Wu0aHhn.js";import{aU as v,aV as d,aO as a,ax as j,a_ as x}from"./IdurarOs-eHlzvnv3.js";import{c as b}from"./calculate-2yTKWIus.js";function E({field:t,remove:f,current:c=null}){const[p,y]=l.useState(void 0),[i,o]=l.useState(0),[m,u]=l.useState(0),r=I(),_=n=>{u(n)},N=n=>{o(n)};return l.useEffect(()=>{if(c){const{items:n,invoice:h}=c;if(h){const s=h[t.fieldKey];s&&(u(s.quantity),o(s.price))}else{const s=n[t.fieldKey];s&&(u(s.quantity),o(s.price))}}},[c]),l.useEffect(()=>{const n=b.multiply(i,m);y(n)},[i,m]),e.jsxs(v,{gutter:[12,12],style:{position:"relative"},children:[e.jsx(d,{className:"gutter-row",span:5,children:e.jsx(a.Item,{name:[t.name,"itemName"],rules:[{required:!0,message:"Missing itemName name"},{pattern:/^(?!\s*$)[\s\S]+$/,message:"Item Name must contain alphanumeric or special characters"}],children:e.jsx(j,{placeholder:"Item Name"})})}),e.jsx(d,{className:"gutter-row",span:7,children:e.jsx(a.Item,{name:[t.name,"description"],children:e.jsx(j,{placeholder:"description Name"})})}),e.jsx(d,{className:"gutter-row",span:3,children:e.jsx(a.Item,{name:[t.name,"quantity"],rules:[{required:!0}],children:e.jsx(x,{style:{width:"100%"},min:0,onChange:_})})}),e.jsx(d,{className:"gutter-row",span:4,children:e.jsx(a.Item,{name:[t.name,"price"],rules:[{required:!0}],children:e.jsx(x,{className:"moneyInput",onChange:N,min:0,controls:!1,addonAfter:r.currency_position==="after"?r.currency_symbol:void 0,addonBefore:r.currency_position==="before"?r.currency_symbol:void 0})})}),e.jsx(d,{className:"gutter-row",span:5,children:e.jsx(a.Item,{name:[t.name,"total"],children:e.jsx(a.Item,{children:e.jsx(x,{readOnly:!0,className:"moneyInput",value:p,min:0,controls:!1,addonAfter:r.currency_position==="after"?r.currency_symbol:void 0,addonBefore:r.currency_position==="before"?r.currency_symbol:void 0,formatter:n=>r.amountFormatter({amount:n,currency_code:r.currency_code})})})})}),e.jsx("div",{style:{position:"absolute",right:"-20px",top:" 5px"},children:e.jsx(g,{onClick:()=>f(t.name)})})]})}function F({updatePrice:t,value:f=0,readOnly:c=!1}){const{amountFormatter:p,currency_symbol:y,currency_position:i,cent_precision:o,currency_code:m}=I();return e.jsx(a.Item,{children:e.jsx(x,{readOnly:c,className:"moneyInput",onChange:t,precision:o||2,value:p({amount:f,currency_code:m}),controls:!1,addonAfter:i==="after"?y:void 0,addonBefore:i==="before"?y:void 0,formatter:u=>p({amount:u,currency_code:m})})})}export{E as I,F as M};
