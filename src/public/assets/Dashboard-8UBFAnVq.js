import{I as ut,a2 as R,a3 as mt,N as D,J as Pt,a as d,F as st,q as O,H as gt,E as Mt,an as e}from"./index-ewVy9M9d.js";import{aC as pt,aD as ft,aV as z,aU as k,aK as q,aH as zt}from"./IdurarOs-eHlzvnv3.js";import{T as Rt}from"./TrophyOutlined-PxPsvq5h.js";import{C as bt}from"./ErpApp-7Wu0aHhn.js";import{P as lt}from"./progress-uCE-B1v5.js";import{R as It}from"./index-MXc1kL4B.js";import{R as ct}from"./ResizableChart-M_l0Di6M.js";import"./index-Fkcs_BTR.js";const Bt=new R("antStatusProcessing",{"0%":{transform:"scale(0.8)",opacity:.5},"100%":{transform:"scale(2.4)",opacity:0}}),Wt=new R("antZoomBadgeIn",{"0%":{transform:"scale(0) translate(50%, -50%)",opacity:0},"100%":{transform:"scale(1) translate(50%, -50%)"}}),Ht=new R("antZoomBadgeOut",{"0%":{transform:"scale(1) translate(50%, -50%)"},"100%":{transform:"scale(0) translate(50%, -50%)",opacity:0}}),kt=new R("antNoWrapperZoomBadgeIn",{"0%":{transform:"scale(0)",opacity:0},"100%":{transform:"scale(1)"}}),Ft=new R("antNoWrapperZoomBadgeOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)",opacity:0}}),_t=new R("antBadgeLoadingCircle",{"0%":{transformOrigin:"50%"},"100%":{transform:"translate(50%, -50%) rotate(360deg)",transformOrigin:"50%"}}),At=t=>{const{componentCls:s,iconCls:m,antCls:a,badgeShadowSize:o,motionDurationSlow:f,textFontSize:u,textFontSizeSM:x,statusSize:c,dotSize:i,textFontWeight:r,indicatorHeight:n,indicatorHeightSM:l,marginXS:p,calc:j}=t,b=`${a}-scroll-number`,S=pt(t,(y,h)=>{let{darkColor:$}=h;return{[`&${s} ${s}-color-${y}`]:{background:$,[`&:not(${s}-count)`]:{color:$}}}});return{[s]:Object.assign(Object.assign(Object.assign(Object.assign({},mt(t)),{position:"relative",display:"inline-block",width:"fit-content",lineHeight:1,[`${s}-count`]:{zIndex:t.indicatorZIndex,minWidth:n,height:n,color:t.badgeTextColor,fontWeight:r,fontSize:u,lineHeight:D(n),whiteSpace:"nowrap",textAlign:"center",background:t.badgeColor,borderRadius:j(n).div(2).equal(),boxShadow:`0 0 0 ${D(o)} ${t.badgeShadowColor}`,transition:`background ${t.motionDurationMid}`,a:{color:t.badgeTextColor},"a:hover":{color:t.badgeTextColor},"a:hover &":{background:t.badgeColorHover}},[`${s}-count-sm`]:{minWidth:l,height:l,fontSize:x,lineHeight:D(l),borderRadius:j(l).div(2).equal()},[`${s}-multiple-words`]:{padding:`0 ${D(t.paddingXS)}`,bdi:{unicodeBidi:"plaintext"}},[`${s}-dot`]:{zIndex:t.indicatorZIndex,width:i,minWidth:i,height:i,background:t.badgeColor,borderRadius:"100%",boxShadow:`0 0 0 ${D(o)} ${t.badgeShadowColor}`},[`${s}-dot${b}`]:{transition:`background ${f}`},[`${s}-count, ${s}-dot, ${b}-custom-component`]:{position:"absolute",top:0,insetInlineEnd:0,transform:"translate(50%, -50%)",transformOrigin:"100% 0%",[`&${m}-spin`]:{animationName:_t,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&${s}-status`]:{lineHeight:"inherit",verticalAlign:"baseline",[`${s}-status-dot`]:{position:"relative",top:-1,display:"inline-block",width:c,height:c,verticalAlign:"middle",borderRadius:"50%"},[`${s}-status-success`]:{backgroundColor:t.colorSuccess},[`${s}-status-processing`]:{overflow:"visible",color:t.colorPrimary,backgroundColor:t.colorPrimary,"&::after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderWidth:o,borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",animationName:Bt,animationDuration:t.badgeProcessingDuration,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",content:'""'}},[`${s}-status-default`]:{backgroundColor:t.colorTextPlaceholder},[`${s}-status-error`]:{backgroundColor:t.colorError},[`${s}-status-warning`]:{backgroundColor:t.colorWarning},[`${s}-status-text`]:{marginInlineStart:p,color:t.colorText,fontSize:t.fontSize}}}),S),{[`${s}-zoom-appear, ${s}-zoom-enter`]:{animationName:Wt,animationDuration:t.motionDurationSlow,animationTimingFunction:t.motionEaseOutBack,animationFillMode:"both"},[`${s}-zoom-leave`]:{animationName:Ht,animationDuration:t.motionDurationSlow,animationTimingFunction:t.motionEaseOutBack,animationFillMode:"both"},[`&${s}-not-a-wrapper`]:{[`${s}-zoom-appear, ${s}-zoom-enter`]:{animationName:kt,animationDuration:t.motionDurationSlow,animationTimingFunction:t.motionEaseOutBack},[`${s}-zoom-leave`]:{animationName:Ft,animationDuration:t.motionDurationSlow,animationTimingFunction:t.motionEaseOutBack},[`&:not(${s}-status)`]:{verticalAlign:"middle"},[`${b}-custom-component, ${s}-count`]:{transform:"none"},[`${b}-custom-component, ${b}`]:{position:"relative",top:"auto",display:"block",transformOrigin:"50% 50%"}},[`${b}`]:{overflow:"hidden",[`${b}-only`]:{position:"relative",display:"inline-block",height:n,transition:`all ${t.motionDurationSlow} ${t.motionEaseOutBack}`,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden",[`> p${b}-only-unit`]:{height:n,margin:0,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"}},[`${b}-symbol`]:{verticalAlign:"top"}},"&-rtl":{direction:"rtl",[`${s}-count, ${s}-dot, ${b}-custom-component`]:{transform:"translate(-50%, -50%)"}}})}},ht=t=>{const{fontHeight:s,lineWidth:m,marginXS:a,colorBorderBg:o}=t,f=s,u=m,x=t.colorBgContainer,c=t.colorError,i=t.colorErrorHover;return Pt(t,{badgeFontHeight:f,badgeShadowSize:u,badgeTextColor:x,badgeColor:c,badgeColorHover:i,badgeShadowColor:o,badgeProcessingDuration:"1.2s",badgeRibbonOffset:a,badgeRibbonCornerTransform:"scaleY(0.75)",badgeRibbonCornerFilter:"brightness(75%)"})},xt=t=>{const{fontSize:s,lineHeight:m,fontSizeSM:a,lineWidth:o}=t;return{indicatorZIndex:"auto",indicatorHeight:Math.round(s*m)-2*o,indicatorHeightSM:s,dotSize:a/2,textFontSize:a,textFontSizeSM:a,textFontWeight:"normal",statusSize:a/2}},Lt=ut("Badge",t=>{const s=ht(t);return At(s)},xt),Zt=t=>{const{antCls:s,badgeFontHeight:m,marginXS:a,badgeRibbonOffset:o,calc:f}=t,u=`${s}-ribbon`,x=`${s}-ribbon-wrapper`,c=pt(t,(i,r)=>{let{darkColor:n}=r;return{[`&${u}-color-${i}`]:{background:n,color:n}}});return{[`${x}`]:{position:"relative"},[`${u}`]:Object.assign(Object.assign(Object.assign(Object.assign({},mt(t)),{position:"absolute",top:a,padding:`0 ${D(t.paddingXS)}`,color:t.colorPrimary,lineHeight:D(m),whiteSpace:"nowrap",backgroundColor:t.colorPrimary,borderRadius:t.borderRadiusSM,[`${u}-text`]:{color:t.colorTextLightSolid},[`${u}-corner`]:{position:"absolute",top:"100%",width:o,height:o,color:"currentcolor",border:`${D(f(o).div(2).equal())} solid`,transform:t.badgeRibbonCornerTransform,transformOrigin:"top",filter:t.badgeRibbonCornerFilter}}),c),{[`&${u}-placement-end`]:{insetInlineEnd:f(o).mul(-1).equal(),borderEndEndRadius:0,[`${u}-corner`]:{insetInlineEnd:0,borderInlineEndColor:"transparent",borderBlockEndColor:"transparent"}},[`&${u}-placement-start`]:{insetInlineStart:f(o).mul(-1).equal(),borderEndStartRadius:0,[`${u}-corner`]:{insetInlineStart:0,borderBlockEndColor:"transparent",borderInlineStartColor:"transparent"}},"&-rtl":{direction:"rtl"}})}},Vt=ut(["Badge","Ribbon"],t=>{const s=ht(t);return Zt(s)},xt),qt=t=>{const{className:s,prefixCls:m,style:a,color:o,children:f,text:u,placement:x="end",rootClassName:c}=t,{getPrefixCls:i,direction:r}=d.useContext(st),n=i("ribbon",m),l=`${n}-wrapper`,[p,j,b]=Vt(n,l),S=ft(o,!1),y=O(n,`${n}-placement-${x}`,{[`${n}-rtl`]:r==="rtl",[`${n}-color-${o}`]:S},s),h={},$={};return o&&!S&&(h.background=o,$.color=o),p(d.createElement("div",{className:O(l,c,j,b)},f,d.createElement("div",{className:O(y,j),style:Object.assign(Object.assign({},h),a)},d.createElement("span",{className:`${n}-text`},u),d.createElement("div",{className:`${n}-corner`,style:$}))))},Ut=qt;function dt(t){let{prefixCls:s,value:m,current:a,offset:o=0}=t,f;return o&&(f={position:"absolute",top:`${o}00%`,left:0}),d.createElement("span",{style:f,className:O(`${s}-only-unit`,{current:a})},m)}function Xt(t,s,m){let a=t,o=0;for(;(a+10)%10!==s;)a+=m,o+=m;return o}function Gt(t){const{prefixCls:s,count:m,value:a}=t,o=Number(a),f=Math.abs(m),[u,x]=d.useState(o),[c,i]=d.useState(f),r=()=>{x(o),i(f)};d.useEffect(()=>{const p=setTimeout(()=>{r()},1e3);return()=>{clearTimeout(p)}},[o]);let n,l;if(u===o||Number.isNaN(o)||Number.isNaN(u))n=[d.createElement(dt,Object.assign({},t,{key:o,current:!0}))],l={transition:"none"};else{n=[];const p=o+10,j=[];for(let y=o;y<=p;y+=1)j.push(y);const b=j.findIndex(y=>y%10===u);n=j.map((y,h)=>{const $=y%10;return d.createElement(dt,Object.assign({},t,{key:y,value:$,offset:h-b,current:h===b}))});const S=c<f?1:-1;l={transform:`translateY(${-Xt(u,o,S)}00%)`}}return d.createElement("span",{className:`${s}-only`,style:l,onTransitionEnd:r},n)}var Kt=function(t,s){var m={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&s.indexOf(a)<0&&(m[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(t);o<a.length;o++)s.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(t,a[o])&&(m[a[o]]=t[a[o]]);return m};const Yt=d.forwardRef((t,s)=>{const{prefixCls:m,count:a,className:o,motionClassName:f,style:u,title:x,show:c,component:i="sup",children:r}=t,n=Kt(t,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),{getPrefixCls:l}=d.useContext(st),p=l("scroll-number",m),j=Object.assign(Object.assign({},n),{"data-show":c,style:u,className:O(p,o,f),title:x});let b=a;if(a&&Number(a)%1===0){const S=String(a).split("");b=d.createElement("bdi",null,S.map((y,h)=>d.createElement(Gt,{prefixCls:p,count:Number(a),value:y,key:S.length-h})))}return u&&u.borderColor&&(j.style=Object.assign(Object.assign({},u),{boxShadow:`0 0 0 1px ${u.borderColor} inset`})),r?gt(r,S=>({className:O(`${p}-custom-component`,S==null?void 0:S.className,f)})):d.createElement(i,Object.assign({},j,{ref:s}),b)}),Jt=Yt;var Qt=function(t,s){var m={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&s.indexOf(a)<0&&(m[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(t);o<a.length;o++)s.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(t,a[o])&&(m[a[o]]=t[a[o]]);return m};const te=(t,s)=>{var m,a,o,f,u;const{prefixCls:x,scrollNumberPrefixCls:c,children:i,status:r,text:n,color:l,count:p=null,overflowCount:j=99,dot:b=!1,size:S="default",title:y,offset:h,style:$,className:U,rootClassName:I,classNames:C,styles:v,showZero:B=!1}=t,F=Qt(t,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","rootClassName","classNames","styles","showZero"]),{getPrefixCls:_,direction:W,badge:g}=d.useContext(st),N=_("badge",x),[ot,jt,St]=Lt(N),X=p>j?`${j}+`:p,A=X==="0"||X===0,vt=p===null||A&&!B,G=(r!=null||l!=null)&&vt,H=b&&!A,T=H?"":X,E=d.useMemo(()=>(T==null||T===""||A&&!B)&&!H,[T,A,B,H]),nt=d.useRef(p);E||(nt.current=p);const P=nt.current,at=d.useRef(T);E||(at.current=T);const K=at.current,rt=d.useRef(H);E||(rt.current=H);const L=d.useMemo(()=>{if(!h)return Object.assign(Object.assign({},g==null?void 0:g.style),$);const w={marginTop:h[1]};return W==="rtl"?w.left=parseInt(h[0],10):w.right=-parseInt(h[0],10),Object.assign(Object.assign(Object.assign({},w),g==null?void 0:g.style),$)},[W,h,$,g==null?void 0:g.style]),Nt=y??(typeof P=="string"||typeof P=="number"?P:void 0),$t=E||!n?null:d.createElement("span",{className:`${N}-status-text`},n),Ct=!P||typeof P!="object"?void 0:gt(P,w=>({style:Object.assign(Object.assign({},L),w.style)})),Z=ft(l,!1),wt=O(C==null?void 0:C.indicator,(m=g==null?void 0:g.classNames)===null||m===void 0?void 0:m.indicator,{[`${N}-status-dot`]:G,[`${N}-status-${r}`]:!!r,[`${N}-color-${l}`]:Z}),Y={};l&&!Z&&(Y.color=l,Y.background=l);const it=O(N,{[`${N}-status`]:G,[`${N}-not-a-wrapper`]:!i,[`${N}-rtl`]:W==="rtl"},U,I,g==null?void 0:g.className,(a=g==null?void 0:g.classNames)===null||a===void 0?void 0:a.root,C==null?void 0:C.root,jt,St);if(!i&&G){const w=L.color;return ot(d.createElement("span",Object.assign({},F,{className:it,style:Object.assign(Object.assign(Object.assign({},v==null?void 0:v.root),(o=g==null?void 0:g.styles)===null||o===void 0?void 0:o.root),L)}),d.createElement("span",{className:wt,style:Object.assign(Object.assign(Object.assign({},v==null?void 0:v.indicator),(f=g==null?void 0:g.styles)===null||f===void 0?void 0:f.indicator),Y)}),n&&d.createElement("span",{style:{color:w},className:`${N}-status-text`},n)))}return ot(d.createElement("span",Object.assign({ref:s},F,{className:it,style:Object.assign(Object.assign({},(u=g==null?void 0:g.styles)===null||u===void 0?void 0:u.root),v==null?void 0:v.root)}),i,d.createElement(Mt,{visible:!E,motionName:`${N}-zoom`,motionAppear:!1,motionDeadline:1e3},w=>{let{className:Ot,ref:Dt}=w;var J,Q;const Tt=_("scroll-number",c),tt=rt.current,Et=O(C==null?void 0:C.indicator,(J=g==null?void 0:g.classNames)===null||J===void 0?void 0:J.indicator,{[`${N}-dot`]:tt,[`${N}-count`]:!tt,[`${N}-count-sm`]:S==="small",[`${N}-multiple-words`]:!tt&&K&&K.toString().length>1,[`${N}-status-${r}`]:!!r,[`${N}-color-${l}`]:Z});let V=Object.assign(Object.assign(Object.assign({},v==null?void 0:v.indicator),(Q=g==null?void 0:g.styles)===null||Q===void 0?void 0:Q.indicator),L);return l&&!Z&&(V=V||{},V.background=l),d.createElement(Jt,{prefixCls:Tt,show:!E,motionClassName:Ot,className:Et,count:K,title:Nt,style:V,key:"scrollNumber",ref:Dt},Ct)}),$t))},yt=d.forwardRef(te);yt.Ribbon=Ut;const M=yt;function et({title:t,stand:s,data:m,prefix:a,isLoading:o=!1}){const f=`dashboard/${s}`,[u,x]=d.useState(null),c=async()=>{const r={limit:5},n=await q.post({entity:f,jsonData:r});x(n.result)},i=r=>{let n=Math.floor(r),l=Math.floor(n/3600),p=Math.floor(n%3600/60),j=n%60;return`${l.toString().padStart(2,"0")}:${p.toString().padStart(2,"0")}:${j.toString().padStart(2,"0")}`};return d.useEffect(()=>{c()},[]),e.jsx(z,{className:"gutter-row",xs:{span:48},sm:{span:24},md:{span:24},lg:{span:12},children:e.jsxs("div",{className:"whiteBox shadow p-5",style:{color:"#595959",fontSize:13,minHeight:"212px",height:"100%"},children:[e.jsx("div",{className:"pad15 strong justify-center",children:e.jsxs("h3",{style:{color:"#22075e",fontSize:"large",margin:"2px 0",textTransform:"capitalize"},children:[e.jsx(Rt,{className:"text-amber-400"}),e.jsx("span",{className:"ml-5 font-bold text-emerald-500",children:t}),e.jsx("span",{className:"right text-emerald-500 cursor-pointer text-[12px]",children:"See More"})]})}),e.jsx("div",{children:u&&u.map((r,n)=>{var l,p;return e.jsx("div",{className:"px-4 py-2",children:e.jsxs(k,{gutter:[0,0],justify:"space-between",wrap:!1,children:[e.jsx(z,{className:"gutter-row",style:{textAlign:"left"},children:e.jsxs("div",{className:"left",style:{whiteSpace:"nowrap"},children:[n===0&&e.jsx(M,{color:"rgb(115, 192, 255)"}),n===1&&e.jsx(M,{color:"rgb(249, 221, 143)"}),n===2&&e.jsx(M,{color:"rgb(175, 192, 249)"}),n===3&&e.jsx(M,{color:"rgb(97, 229, 172)"}),n===4&&e.jsx(M,{color:"rgb(249, 130, 139)"}),e.jsx("span",{className:"ml-5 text-[16px]",children:`${(l=r==null?void 0:r._id)==null?void 0:l.firstname} ${(p=r==null?void 0:r._id)==null?void 0:p.lastname}`})]})}),e.jsxs(z,{className:"gutter-row",flex:"auto",style:{display:"flex",justifyContent:"right",alignItems:"right"},children:[s==="logged"&&e.jsxs("div",{style:{whiteSpace:"nowrap"},className:"w-[180px] text-right",children:[e.jsx(bt,{className:"text-emerald-400"}),e.jsx("span",{className:"ml-5 text-[16px]",children:i(r==null?void 0:r.totalRange)})]}),s==="activity"&&e.jsxs("div",{style:{whiteSpace:"nowrap"},className:"w-[180px] flex",children:[e.jsx(lt,{percent:Math.floor(Number(r.percentage)),showInfo:!1,strokeColor:"#6ee7b7"}),e.jsxs("span",{className:"text-[16px]",children:[Math.floor(r.percentage),"%"]})]}),s==="productivity"&&e.jsxs("div",{style:{whiteSpace:"nowrap"},className:"w-[180px] flex",children:[e.jsx(lt,{percent:Math.floor(Number(r.percentage)),showInfo:!1,strokeColor:"#6ee7b7"}),e.jsxs("span",{className:"text-[16px]",children:[Math.floor(r.percentage),"%"]})]})]})]})},n)})})]})})}function ee({data:t,isLoading:s=!1}){const m="dashboard/assignedProject",a=["rgb(115, 168, 252)","rgb(62, 204, 146)","rgb(182, 180, 250)","rgb(182, 180, 250)","rgb(182, 180, 250)"],[o,f]=d.useState([]),u=c=>{let i=Math.floor(c),r=Math.floor(i/3600),n=Math.floor(i%3600/60),l=i%60;return`${r.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}`},x=async()=>{const c={limit:5},r=(await q.post({entity:m,jsonData:c})).result,n=[];r&&r.map((l,p)=>{n.push({type:`${l.projectnumber} ${l.description}`,value:l.spentTime/60,color:a[p],time:u(l.spentTime)})}),console.log(n),f(n)};return d.useEffect(()=>{x()},[]),e.jsx(z,{className:"gutter-row",xs:{span:48},sm:{span:24},md:{span:24},lg:{span:12},children:e.jsxs("div",{className:"whiteBox shadow p-5",style:{color:"#595959",fontSize:13,minHeight:"212px",height:"100%"},children:[e.jsx("div",{className:"pad15 strong justify-center",style:{justifyContent:"center"},children:e.jsx("div",{style:{margin:"2px 0",textTransform:"capitalize"},children:e.jsx("span",{className:"font-bold text-[16px]",children:"Top Assigned Projects"})})}),e.jsx("div",{className:"bg-slate-50 border-2 rounded-lg mx-3",children:e.jsxs("div",{className:"grid justify-between p-4",style:{gridTemplateColumns:"47% 47%"},children:[e.jsx(It,{className:"float-left w-60 ml-10",data:o,lineWidth:45,background:"grey"}),e.jsx("div",{className:"grid justify-between",children:o&&o.map((c,i)=>e.jsxs("div",{className:"flex justify-between gap-x-2.5 items-center",style:{whiteSpace:"nowrap"},children:[e.jsxs("div",{className:"grid grid-template-auto",children:[e.jsx(M,{color:c.color}),e.jsx("span",{className:"ml-3 text-[12px]",children:c.type})]}),e.jsx("span",{className:"right mx-5 text-[12px]",children:c.time})]},i))})]})})]})})}function se({data:t,isLoading:s=!1}){const m="dashboard/onGoingTask",a=["bg-[#ccfbf1]","bg-[#dcfce7]","bg-[#fef3c7]","bg-[#ede9fe]","rgb(182, 180, 250)","bg-[#ede9fe]"],[o,f]=d.useState([]),u=c=>{let i=Math.floor(c),r=Math.floor(i/3600),n=Math.floor(i%3600/60),l=i%60;return`${r.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}`},x=async()=>{const c={limit:5},r=(await q.post({entity:m,jsonData:c})).result,n=[];r&&r.map((l,p)=>{n.push({projectName:`${l.projectnumber} ${l.description}`,taskName:l.name,color:a[p],time:u(l.spentTime)})}),f(n)};return d.useEffect(()=>{x()},[]),e.jsx(z,{className:"gutter-row",xs:{span:48},sm:{span:24},md:{span:24},lg:{span:12},children:e.jsxs("div",{className:"whiteBox shadow p-5",style:{color:"#595959",fontSize:13,minHeight:"212px",height:"100%"},children:[e.jsx("div",{className:"strong",style:{justifyContent:"center"},children:e.jsx("div",{style:{margin:"2px 0"},children:e.jsx("span",{className:"font-bold text-[16px]",children:"Ongoing Tasks"})})}),e.jsx("div",{className:"grid justify-between mt-4",style:{gridTemplateColumns:"48% 48%",rowGap:"20px"},children:o&&o.map((c,i)=>e.jsxs("div",{className:`grid p-5 border-1 rounded-lg ${c.color}`,style:{rowGap:"15px"},children:[e.jsx("span",{children:c.taskName}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:c.projectName}),e.jsx("span",{children:c.time})]})]},i))})]})})}function oe({data:t,isLoading:s=!1}){const m="dashboard/timeSheet",[a,o]=d.useState([]),f=()=>{const c=new Date,i=new Date(c);i.setDate(c.getDate()-c.getDay()+(c.getDay()===0?-6:1));const r=new Date(c);return r.setDate(i.getDate()+6),console.log(r),{startDate:i.setUTCHours(0,0,0,0),endDate:r.setUTCHours(23,59,59,999)}},u=c=>{const i=new Date,r=new Date(i);r.setDate(i.getDate()-i.getDay()+(i.getDay()===0?-6:1));const n=new Date(i);n.setDate(r.getDate()+7);const l=[];let p=0;for(let h=new Date(r);h<=n;h.setDate(h.getDate()+1)){const $=h.toISOString().split("T")[0];if(h.getDate()===n.getDate())continue;const U=c.find(g=>g._id.includes($))||{totalSpentTime:0},I=new Date($);let C;h<new Date?C=I.toLocaleDateString("en-US",{weekday:"short"}):h.getDate()===n.getDate()?C="weekly":C=I.toLocaleDateString("en-US",{weekday:"short"});const v=Math.floor(U.totalSpentTime);p+=v;let B=Math.floor(v/3600),F=Math.floor(v%3600/60),_=v%60,W=`${B.toString().padStart(2,"0")}:${F.toString().padStart(2,"0")}:${_.toString().padStart(2,"0")}`;l.push({date:I.getDate(),dayOfWeek:C,times:W})}const j=Math.floor(p/3600),b=Math.floor(p%3600/60),S=p%60,y=`${j.toString().padStart(2,"0")}:${b.toString().padStart(2,"0")}:${S.toString().padStart(2,"0")}`;return l.push({date:"total",dayOfWeek:"weekly",times:y}),l},x=async()=>{const i={range:f(),limit:5},n=(await q.post({entity:m,jsonData:i})).result,l=u(n);console.log(l),o(l)};return d.useEffect(()=>{x()},[]),e.jsx(z,{className:"gutter-row",xs:{span:48},sm:{span:24},md:{span:24},lg:{span:12},children:e.jsxs("div",{className:"whiteBox shadow p-5",style:{color:"#595959",fontSize:13,minHeight:"212px",height:"100%"},children:[e.jsx("div",{className:"strong justify-center",children:e.jsxs("div",{style:{margin:"2px 0"},children:[e.jsx("span",{className:"font-bold text-[16px]",children:"TimeSheet"}),e.jsx("span",{className:"ml-5",children:"All Projects"}),e.jsx("span",{className:"right text-emerald-500 cursor-pointer",children:"See More"})]})}),e.jsx("div",{className:"grid mt-4 justify-between",style:{gridTemplateColumns:"23.5% 23.5% 23.5% 23.5%",rowGap:"10px"},children:a&&a.map((c,i)=>e.jsxs("div",{children:[e.jsxs("p",{className:"ml-0.5",children:[c.dayOfWeek," ",c.date]}),e.jsxs("div",{className:`sheet-item ${i===7&&"bg-[#86efbc]"}`,children:[e.jsx(bt,{className:`text-emerald-400 ${i===7&&"text-white"}`}),e.jsx("span",{className:`ml-2 text-[13px] ${i===7&&"text-white"}`,children:c.times})]})]},i))})]})})}function ne(){const t=zt();return e.jsxs(e.Fragment,{children:[e.jsxs(k,{gutter:[32,32],children:[e.jsx(et,{title:t("Top 5 Members based on time logged"),stand:"logged"}),e.jsx(et,{title:t("Top 5 Members based on activity"),stand:"activity"})]}),e.jsx("div",{className:"space30"}),e.jsxs(k,{gutter:[32,32],children:[e.jsx(ct,{status:"Finished"}),e.jsx(et,{title:t("Top 5 Members based on productivity"),stand:"productivity"})]}),e.jsx("div",{className:"space30"}),e.jsxs(k,{gutter:[32,32],children:[e.jsx(ct,{status:"In Progress"}),e.jsx(ee,{})]}),e.jsx("div",{className:"space30"}),e.jsxs(k,{gutter:[32,32],children:[e.jsx(se,{}),e.jsx(oe,{entity:"invoice"})]})]})}function ge(){return e.jsx(ne,{})}export{ge as default};
